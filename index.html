<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>TripMatch</title>
  <style>
    body { font-family: Arial, sans-serif; margin:20px; background:#f5f5f5; }
    header { display:flex; align-items:center; gap:10px; margin-bottom:20px; }
    header img { width:50px; height:50px; border-radius:50%; object-fit:cover; }
    h1 { color:#333; }
    .filter { background:#fff; padding:15px; border-radius:8px; margin-bottom:20px; }
    label { display:block; margin-top:10px; font-weight:bold; }
    select, input { width:100%; padding:8px; margin-top:5px; }
    button { margin-top:15px; padding:10px 15px; border:none; border-radius:5px; cursor:pointer; }
    .btn-primary { background:#28a745; color:white; }
    .btn-reset { background:#999; color:white; margin-left:10px; }
    .results { background:#fff; padding:15px; border-radius:8px; }
    .card { border:1px solid #ddd; border-radius:8px; padding:10px; margin-bottom:10px; display:flex; gap:10px; align-items:center; }
    .card img { width:50px; height:50px; border-radius:50%; object-fit:cover; }
    .card h3 { margin:0; color:#444; }
    .card p { margin:3px 0; }
  </style>
</head>
<body>

<header>
  <img src="logo.png.png" alt="TripMatch Logo">
  <h1>TripMatch</h1>
</header>

<div class="filter">
  <label for="start">Tanggal Mulai</label>
  <input type="date" id="start">

  <label for="end">Tanggal Selesai</label>
  <input type="date" id="end">

  <label for="interest">Pilih Minat</label>
  <select id="interest">
    <option value="">Semua</option>
    <option value="Alam">Alam</option>
    <option value="Budaya">Budaya</option>
    <option value="Kuliner">Kuliner</option>
    <option value="Sejarah">Sejarah</option>
    <option value="Belanja">Belanja</option>
    <option value="Pantai">Pantai</option>
  </select>

  <button class="btn-primary" onclick="findMatches()">Cari Match</button>
  <button class="btn-reset" onclick="resetFilters()">Reset</button>
</div>

<div class="results" id="results">
  <p>Hasil akan muncul di sini...</p>
</div>

<script>
const interests = ["Alam", "Budaya", "Kuliner", "Sejarah", "Belanja", "Pantai"];
const femaleNames = ["Ayu","Siti","Rina","Lina","Maya","Dewi","Putri","Nina","Tia","Indah","Wulan","Ratna","Fira","Rani","Mira"];
const maleNames   = ["Budi","Andi","Agus","Doni","Fajar","Rizky","Hendra","Joko","Arif","Bayu","Tono","Fadil","Rian","Dimas","Yoga"];

const profiles = [];
let phoneNumber = 100000000; // awal no hp

// generate 6 orang per tanggal
let startDate = new Date("2025-09-30");
for (let i = 0; i < 31; i++) {
  let date = new Date(startDate);
  date.setDate(startDate.getDate() + i);
  let dateStr = date.toISOString().split("T")[0];

  for (let j = 0; j < interests.length; j++) {
    let gender = (j % 2 === 0) ? "Perempuan" : "Laki-laki";
    let avatar = (gender === "Perempuan") ? "avatar_woman.png" : "avatar_man.png";
    let interest = interests[j];

    // pilih nama dari daftar, biar berputar
    let nameList = (gender === "Perempuan") ? femaleNames : maleNames;
    let name = nameList[(i + j) % nameList.length];

    profiles.push({
      name: name,
      gender: gender,
      interest: interest,
      date: dateStr,
      phone: String(phoneNumber++),
      avatar: avatar
    });
  }
}

function findMatches() {
  let start = document.getElementById("start").value;
  let end = document.getElementById("end").value;
  let interest = document.getElementById("interest").value;

  let results = profiles.filter(p => {
    let validDate = (!start || p.date >= start) && (!end || p.date <= end);
    let validInterest = (!interest || p.interest === interest);
    return validDate && validInterest;
  });

  displayResults(results);
}

function resetFilters(){
  document.getElementById('start').value = "";
  document.getElementById('end').value = "";
  document.getElementById('interest').value = "";
  document.getElementById('results').innerHTML = "<p>Hasil akan muncul di sini...</p>";
}

function displayResults(results) {
  let container = document.getElementById("results");
  container.innerHTML = "";

  if (results.length === 0) {
    container.innerHTML = "<p>Tidak ada hasil ditemukan.</p>";
    return;
  }

  results.forEach(p => {
    let card = document.createElement("div");
    card.className = "card";
    card.innerHTML = `
      <img src="${p.avatar}" alt="${p.gender}">
      <div>
        <h3>${p.name}</h3>
        <p>Gender: ${p.gender}</p>
        <p>Minat: ${p.interest}</p>
        <p>Tanggal: ${p.date}</p>
        <p>No HP: ${p.phone}</p>
      </div>
    `;
    container.appendChild(card);
  });
}
</script>

</body>
</html>